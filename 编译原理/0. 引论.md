# 引论

程序设计语言是向人以及计算机描述计算过程的记号。一个程序在可以运行之前，需要被翻译成一种能够被计算机执行的形式。

完成这项翻译工作的软件系统称为编译器（compiler）。

## 语言处理器

一个编译器就是一个程序，它可以阅读以某一种语言编写的程序，并把该程序翻译成一个等价的、用另一种语言（目标语言）编写的程序。

## 编译器的结构

编译器的流程如下：
![LIUC](images/Dingtalk_20220216161838.jpg)

### 词法分析

编译器的第一个步骤就是词法分析，词法分析输入是源程序的字符流，然后将他们分割成有意义的词素（lexeme）序列。对于每个词素，词法分析器产生如下形式的词法单元（token）作为输出：
```<token-name, attribute-value>```
第一个分量token-name是一个由语法分析步骤使用的抽象符号，第二个分量attribute-value指向符号表中关于这个词法单元的条目，比如，假设一个源程序包含如下语句：
```c
position = initial + rate * 60
```
被词法分析器处理后输出为

1. position是一个词素，被映射成词法单元<id, 1>, 其中id是表时标识符的抽象符号，1指向符号表中position对应的条目。
2. 赋值符号=是一个词素，被映射成词法单元<=>。因为这个词法单依安不需要属性值，所以省略了第二个分量。
3. initial是一个词素，被映射成<id,2>，其中2指向initial对应的符号表条目。
4. + 是一个词素，被映射成< + >
5. rate是一个词素，被映射成 <id, 3>， 3指向rate对应的符号表条目。
6. \* 是一个词素，被映射成 <*>
7. 60是一个词素，被映射成<60>。

空格都会被忽略。
最终，赋值语句可以表示成如下形式

```c
<id, 1> <=> <id, 2> <id, 3> <*> <60>
```

![2](images/Dingtalk_20220216163628.jpg)

### 语义分析

语义分析使用语法树和符号表来检查源程序是否和语言定义的语义一致。同时也收集类型信息，并把这些信息存放在语法树或符号表中。语义分析的一个重要工作就是类型检查。比如数组下标必须是整数，负数的话就要报错。